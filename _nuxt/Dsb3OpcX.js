import{_ as V}from"./DX_HTsu8.js";import{f as z,aR as E,B as v,aS as q,m as k,g as A,h as f,w as i,o as c,a as t,c as x,q as F,b as l,z as o,d,t as r,F as w,A as b,i as L,j as M}from"#entry";import{_ as P}from"./BJssMS1h.js";import{_ as R}from"./8jJyDtmz.js";import{_ as T}from"./DGxXamlq.js";import{u as C,q as B}from"./DWOxNSc8.js";import"./BN_7HF1G.js";const G={class:"max-w-3xl mx-auto space-y-8"},I={class:"text-center space-y-4"},W={class:"text-4xl font-bold"},H={class:"flex items-center justify-center space-x-4 text-sm text-gray-500"},J={class:"text-xl text-gray-600 dark:text-gray-400"},K={class:"flex flex-wrap gap-2 justify-center"},O={class:"aspect-video bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-900 dark:to-pink-900 rounded-lg flex items-center justify-center"},Q={class:"prose prose-lg dark:prose-invert max-w-none"},X={key:0,class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-8 text-center space-y-4"},Y={class:"flex items-center justify-center space-x-4"},Z={class:"text-2xl font-bold text-primary"},tt={class:"space-y-4"},et={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},st={class:"flex space-x-3"},ot={class:"w-12 h-12 bg-purple-100 dark:bg-purple-900 rounded-lg flex items-center justify-center flex-shrink-0"},rt={class:"flex-1 min-w-0"},at={class:"font-semibold text-sm line-clamp-1"},nt={class:"text-xs text-gray-600 dark:text-gray-400 line-clamp-2"},it={class:"text-center"},gt=z({__name:"[slug]",async setup(lt){let n,p;const _=E().params.slug,{data:g}=([n,p]=v(()=>C(`story-${_}`,()=>B("stories").where("slug","=",_).first())),n=await n,p(),n);if(!g.value)throw q({statusCode:404,statusMessage:"Story not found"});const e=k(()=>g.value),{data:S}=([n,p]=v(()=>C("related-stories",()=>B("stories").where("published","=",!0).order("date","DESC").all())),n=await n,p(),n),$=k(()=>S.value?.filter(u=>u.slug!==_).slice(0,2)||[]),j=u=>new Date(u).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return A({title:`${e.value.title} - Stories & Literature - Shrike Publishing`,description:e.value.description}),(u,s)=>{const m=V,y=L,D=P,h=M,N=R,U=T;return c(),f(U,{class:"py-8"},{default:i(()=>[t("div",G,[t("div",I,[l(m,{color:o(e).type==="free"?"success":"primary",variant:"soft",size:"lg"},{default:i(()=>[d(r(o(e).type==="free"?"Free Story":"Published Work"),1)]),_:1},8,["color"]),t("h1",W,r(o(e).title),1),t("div",H,[t("span",null,"By "+r(o(e).author),1),s[0]||(s[0]=t("span",null,"â€¢",-1)),t("span",null,r(j(o(e).date)),1)]),t("p",J,r(o(e).description),1),t("div",K,[(c(!0),x(w,null,b(o(e).tags,a=>(c(),f(m,{key:a,size:"sm",variant:"soft"},{default:i(()=>[d(r(a),1)]),_:2},1024))),128))])]),t("div",O,[l(y,{name:"lucide:book-open",class:"h-16 w-16 text-purple-600 dark:text-purple-400"})]),t("div",Q,[l(D,{value:o(e)},null,8,["value"])]),o(e).type==="published"?(c(),x("div",X,[s[2]||(s[2]=t("h2",{class:"text-2xl font-bold"},"Enjoyed this story?",-1)),s[3]||(s[3]=t("p",{class:"text-gray-600 dark:text-gray-400"}," This is an excerpt from our published work. Get the full story and support our writing. ",-1)),t("div",Y,[t("span",Z,"$"+r(o(e).price),1),l(h,{icon:"i-heroicons-shopping-bag",to:"/contact"},{default:i(()=>[...s[1]||(s[1]=[d(" Purchase Now ",-1)])]),_:1})])])):F("",!0),t("div",tt,[s[4]||(s[4]=t("h2",{class:"text-xl font-bold"},"More Stories",-1)),t("div",et,[(c(!0),x(w,null,b(o($),a=>(c(),f(N,{key:a.slug,to:`/stories/${a.slug}`,class:"hover:shadow-md transition-shadow"},{default:i(()=>[t("div",st,[t("div",ot,[l(y,{name:"lucide:book-open",class:"h-6 w-6 text-purple-600 dark:text-purple-400"})]),t("div",rt,[t("h3",at,r(a.title),1),t("p",nt,r(a.description),1),l(m,{color:a.type==="free"?"success":"primary",variant:"soft",size:"xs",class:"mt-1"},{default:i(()=>[d(r(a.type),1)]),_:2},1032,["color"])])])]),_:2},1032,["to"]))),128))])]),t("div",it,[l(h,{to:"/stories",variant:"outline",icon:"i-heroicons-arrow-left"},{default:i(()=>[...s[5]||(s[5]=[d(" Back to Stories ",-1)])]),_:1})])])]),_:1})}}});export{gt as default};
