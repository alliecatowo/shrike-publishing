import{_ as V}from"./DdSdI9yP.js";import{C as z,v as I,I as v,aQ as L,J as k,D as A,E as _,w as l,e as i,h as t,d as m,f as F,g as c,K as s,A as d,t as a,F as w,L as b,aI as M,G as P,H as q}from"#entry";import{_ as G}from"./Bqho0M-s.js";import{_ as R}from"./BfPelAPg.js";import{_ as T}from"./DC5_PzNC.js";import{u as C}from"./D1y-JKXm.js";import{q as $}from"./OSpsGdHn.js";import"./BN_7HF1G.js";const H={class:"max-w-3xl mx-auto space-y-8"},J={class:"text-center space-y-4"},K={class:"text-4xl font-bold"},Q={class:"flex items-center justify-center space-x-4 text-sm text-gray-500"},W={class:"text-xl text-gray-600 dark:text-gray-400"},O={class:"flex flex-wrap gap-2 justify-center"},X={key:1,class:"aspect-video bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-900 dark:to-pink-900 rounded-lg flex items-center justify-center"},Y={class:"prose prose-lg dark:prose-invert max-w-none"},Z={key:0,class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-8 text-center space-y-4"},tt={class:"flex items-center justify-center space-x-4"},et={class:"text-2xl font-bold text-primary"},st={class:"space-y-4"},ot={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},at={class:"flex space-x-3"},rt={class:"w-12 h-12 bg-purple-100 dark:bg-purple-900 rounded-lg flex items-center justify-center flex-shrink-0"},nt={class:"flex-1 min-w-0"},it={class:"font-semibold text-sm line-clamp-1"},lt={class:"text-xs text-gray-600 dark:text-gray-400 line-clamp-2"},ct={class:"text-center"},vt=z({__name:"[slug]",async setup(dt){let n,u;const f=I().params.slug,{data:g}=([n,u]=v(()=>C(`story-${f}`,()=>$("stories").where("slug","=",f).first())),n=await n,u(),n);if(!g.value)throw L({statusCode:404,statusMessage:"Story not found"});const e=k(()=>g.value),{data:B}=([n,u]=v(()=>C("related-stories",()=>$("stories").where("published","=",!0).order("date","DESC").all())),n=await n,u(),n),S=k(()=>B.value?.filter(p=>p.slug!==f).slice(0,2)||[]),j=p=>new Date(p).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return A({title:`${e.value.title} - Stories & Literature - Shrike Publishing`,description:e.value.description}),(p,o)=>{const x=V,D=M,h=P,N=G,y=q,E=R,U=T;return i(),_(U,{class:"py-8"},{default:l(()=>[t("div",H,[t("div",J,[c(x,{color:s(e).type==="free"?"success":"primary",variant:"soft",size:"lg"},{default:l(()=>[d(a(s(e).type==="free"?"Free Story":"Published Work"),1)]),_:1},8,["color"]),t("h1",K,a(s(e).title),1),t("div",Q,[t("span",null,"By "+a(s(e).author),1),o[0]||(o[0]=t("span",null,"â€¢",-1)),t("span",null,a(j(s(e).date)),1)]),t("p",W,a(s(e).description),1),t("div",O,[(i(!0),m(w,null,b(s(e).tags,r=>(i(),_(x,{key:r,size:"sm",variant:"soft"},{default:l(()=>[d(a(r),1)]),_:2},1024))),128))])]),t("div",null,[s(e).thumbnail||s(e).image?(i(),_(D,{key:0,src:s(e).thumbnail||s(e).image,alt:s(e).title,class:"w-full aspect-video object-cover rounded-lg",format:"webp",sizes:"(max-width: 768px) 100vw, 1024px",placeholder:!0},null,8,["src","alt"])):(i(),m("div",X,[c(h,{name:"lucide:book-open",class:"h-16 w-16 text-purple-600 dark:text-purple-400"})]))]),t("div",Y,[c(N,{value:s(e)},null,8,["value"])]),s(e).type==="published"?(i(),m("div",Z,[o[2]||(o[2]=t("h2",{class:"text-2xl font-bold"},"Enjoyed this story?",-1)),o[3]||(o[3]=t("p",{class:"text-gray-600 dark:text-gray-400"}," This is an excerpt from our published work. Get the full story and support our writing. ",-1)),t("div",tt,[t("span",et,"$"+a(s(e).price),1),c(y,{icon:"i-heroicons-shopping-bag",to:"/contact"},{default:l(()=>[...o[1]||(o[1]=[d(" Purchase Now ",-1)])]),_:1})])])):F("",!0),t("div",st,[o[4]||(o[4]=t("h2",{class:"text-xl font-bold"},"More Stories",-1)),t("div",ot,[(i(!0),m(w,null,b(s(S),r=>(i(),_(E,{key:r.slug,to:`/stories/${r.slug}`,class:"hover:shadow-md transition-shadow"},{default:l(()=>[t("div",at,[t("div",rt,[c(h,{name:"lucide:book-open",class:"h-6 w-6 text-purple-600 dark:text-purple-400"})]),t("div",nt,[t("h3",it,a(r.title),1),t("p",lt,a(r.description),1),c(x,{color:r.type==="free"?"success":"primary",variant:"soft",size:"xs",class:"mt-1"},{default:l(()=>[d(a(r.type),1)]),_:2},1032,["color"])])])]),_:2},1032,["to"]))),128))])]),t("div",ct,[c(y,{to:"/stories",variant:"outline",icon:"i-heroicons-arrow-left"},{default:l(()=>[...o[5]||(o[5]=[d(" Back to Stories ",-1)])]),_:1})])])]),_:1})}}});export{vt as default};
