import{bm as M,aa as y,aj as A,C as S,bn as E,bo as N,b6 as O,r as R,Y as T,J as I,ak as J,bp as $,a2 as z}from"#entry";function B(t){const e=M("",1e3);return{search:e,handleTypeaheadSearch:(r,l)=>{e.value=e.value+r;{const u=y(),o=l.map(i=>({...i,textValue:i.value?.textValue??i.ref.textContent?.trim()??""})),a=o.find(i=>i.ref===u),n=o.map(i=>i.textValue),d=F(n,e.value,a?.textValue),v=o.find(i=>i.textValue===d);return v&&v.ref.focus(),v?.ref}},resetTypeahead:()=>{e.value=""}}}function D(t,e){return t.map((s,f)=>t[(e+f)%t.length])}function F(t,e,s){const r=e.length>1&&Array.from(e).every(n=>n===e[0])?e[0]:e,l=s?t.indexOf(s):-1;let u=D(t,Math.max(l,0));r.length===1&&(u=u.filter(n=>n!==s));const a=u.find(n=>n.toLowerCase().startsWith(r.toLowerCase()));return a!==s?a:void 0}function K(t={}){const{inheritAttrs:e=!0}=t,s=A(),f=S({setup(l,{slots:u}){return()=>{s.value=u.default}}}),r=S({inheritAttrs:e,props:t.props,setup(l,{attrs:u,slots:o}){return()=>{var a;s.value;const n=(a=s.value)==null?void 0:a.call(s,{...t.props==null?L(u):l,$slots:o});return e&&n?.length===1?n[0]:n}}});return E({define:f,reuse:r},[f,r])}function L(t){const e={};for(const s in t)e[N(s)]=t[s];return e}function W(t){return JSON.parse(JSON.stringify(t))}const m=new Map;function U(t){const e=J();function s(o){var a;const n=m.get(t)||new Set;n.add(o),m.set(t,n);const d=()=>r(o);return(a=e?.cleanups)==null||a.push(d),d}function f(o){function a(...n){r(a),o(...n)}return s(a)}function r(o){const a=m.get(t);a&&(a.delete(o),a.size||l())}function l(){m.delete(t)}function u(o,a){var n;(n=m.get(t))==null||n.forEach(d=>d(o,a))}return{on:s,once:f,off:r,emit:u,reset:l}}function Y(t,e,s,f={}){var r,l,u;const{clone:o=!1,passive:a=!1,eventName:n,deep:d=!1,defaultValue:v,shouldEmit:i}=f,p=O(),C=s||p?.emit||((r=p?.$emit)==null?void 0:r.bind(p))||((u=(l=p?.proxy)==null?void 0:l.$emit)==null?void 0:u.bind(p?.proxy));let h=n;h=h||`update:${e.toString()}`;const V=c=>o?typeof o=="function"?o(c):W(c):c,_=()=>$(t[e])?V(t[e]):v,w=c=>{i?i(c)&&C(h,c):C(h,c)};if(a){const c=_(),b=R(c);let x=!1;return T(()=>t[e],g=>{x||(x=!0,b.value=V(g),z(()=>x=!1))}),T(b,g=>{!x&&(g!==t[e]||d)&&w(g)},{deep:d}),b}else return I({get(){return _()},set(c){w(c)}})}export{Y as a,U as b,K as c,B as u};
