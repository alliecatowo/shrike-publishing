import{_ as N}from"./CnWstM7S.js";import{C as V,v as z,U as v,b3 as A,J as k,D as F,E as f,w as i,e as c,h as t,d as x,f as L,g as l,Q as o,A as d,t as r,F as w,S as b,G as M,H as P}from"#entry";import{_ as q}from"./CaSJ-Nhh.js";import{_ as G}from"./CE2I82ed.js";import{_ as R}from"./gaRgLYrd.js";import{u as C}from"./BEEbKJLN.js";import{q as S}from"./DKhY7uNX.js";import"./BN_7HF1G.js";const T={class:"max-w-3xl mx-auto space-y-8"},H={class:"text-center space-y-4"},I={class:"text-4xl font-bold"},J={class:"flex items-center justify-center space-x-4 text-sm text-gray-500"},Q={class:"text-xl text-gray-600 dark:text-gray-400"},W={class:"flex flex-wrap gap-2 justify-center"},K={class:"aspect-video bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-900 dark:to-pink-900 rounded-lg flex items-center justify-center"},O={class:"prose prose-lg dark:prose-invert max-w-none"},X={key:0,class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-8 text-center space-y-4"},Y={class:"flex items-center justify-center space-x-4"},Z={class:"text-2xl font-bold text-primary"},tt={class:"space-y-4"},et={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},st={class:"flex space-x-3"},ot={class:"w-12 h-12 bg-purple-100 dark:bg-purple-900 rounded-lg flex items-center justify-center flex-shrink-0"},rt={class:"flex-1 min-w-0"},at={class:"font-semibold text-sm line-clamp-1"},nt={class:"text-xs text-gray-600 dark:text-gray-400 line-clamp-2"},it={class:"text-center"},yt=V({__name:"[slug]",async setup(lt){let n,p;const _=z().params.slug,{data:g}=([n,p]=v(()=>C(`story-${_}`,()=>S("stories").where("slug","=",_).first())),n=await n,p(),n);if(!g.value)throw A({statusCode:404,statusMessage:"Story not found"});const e=k(()=>g.value),{data:$}=([n,p]=v(()=>C("related-stories",()=>S("stories").where("published","=",!0).order("date","DESC").all())),n=await n,p(),n),B=k(()=>$.value?.filter(u=>u.slug!==_).slice(0,2)||[]),D=u=>new Date(u).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return F({title:`${e.value.title} - Stories & Literature - Shrike Publishing`,description:e.value.description}),(u,s)=>{const m=N,y=M,j=q,h=P,U=G,E=R;return c(),f(E,{class:"py-8"},{default:i(()=>[t("div",T,[t("div",H,[l(m,{color:o(e).type==="free"?"success":"primary",variant:"soft",size:"lg"},{default:i(()=>[d(r(o(e).type==="free"?"Free Story":"Published Work"),1)]),_:1},8,["color"]),t("h1",I,r(o(e).title),1),t("div",J,[t("span",null,"By "+r(o(e).author),1),s[0]||(s[0]=t("span",null,"â€¢",-1)),t("span",null,r(D(o(e).date)),1)]),t("p",Q,r(o(e).description),1),t("div",W,[(c(!0),x(w,null,b(o(e).tags,a=>(c(),f(m,{key:a,size:"sm",variant:"soft"},{default:i(()=>[d(r(a),1)]),_:2},1024))),128))])]),t("div",K,[l(y,{name:"lucide:book-open",class:"h-16 w-16 text-purple-600 dark:text-purple-400"})]),t("div",O,[l(j,{value:o(e)},null,8,["value"])]),o(e).type==="published"?(c(),x("div",X,[s[2]||(s[2]=t("h2",{class:"text-2xl font-bold"},"Enjoyed this story?",-1)),s[3]||(s[3]=t("p",{class:"text-gray-600 dark:text-gray-400"}," This is an excerpt from our published work. Get the full story and support our writing. ",-1)),t("div",Y,[t("span",Z,"$"+r(o(e).price),1),l(h,{icon:"i-heroicons-shopping-bag",to:"/contact"},{default:i(()=>[...s[1]||(s[1]=[d(" Purchase Now ",-1)])]),_:1})])])):L("",!0),t("div",tt,[s[4]||(s[4]=t("h2",{class:"text-xl font-bold"},"More Stories",-1)),t("div",et,[(c(!0),x(w,null,b(o(B),a=>(c(),f(U,{key:a.slug,to:`/stories/${a.slug}`,class:"hover:shadow-md transition-shadow"},{default:i(()=>[t("div",st,[t("div",ot,[l(y,{name:"lucide:book-open",class:"h-6 w-6 text-purple-600 dark:text-purple-400"})]),t("div",rt,[t("h3",at,r(a.title),1),t("p",nt,r(a.description),1),l(m,{color:a.type==="free"?"success":"primary",variant:"soft",size:"xs",class:"mt-1"},{default:i(()=>[d(r(a.type),1)]),_:2},1032,["color"])])])]),_:2},1032,["to"]))),128))])]),t("div",it,[l(h,{to:"/stories",variant:"outline",icon:"i-heroicons-arrow-left"},{default:i(()=>[...s[5]||(s[5]=[d(" Back to Stories ",-1)])]),_:1})])])]),_:1})}}});export{yt as default};
